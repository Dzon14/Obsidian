---
tags: [komsys]
aliases: [ICMP]
---
# Internet Control Message Protocol
- Hjälpprotokoll till IP på nätskiktet.
- Utvecklats i viss mån för att kompensera för [[Internetprotokoll|IP]]s saknande av feldetektering, felkorrigering och hjälpfunktioner.
- ICMP för IPv4 och ICMP för IPv6
- Består av en header på 8 byte och en datadel som är variabel.

ICMP stands for Internet Control Message Protocol. It is a protocol used by network devices, such as routers, to communicate error messages and operational information about the status of the network. It is used to provide feedback about issues with network packets, such as when a packet cannot reach its intended destination, when a network is congested, or when a device is unavailable. ICMP messages are usually generated by network devices and sent to the source of the problematic packet, providing feedback to help diagnose and resolve network issues.

## Typer av meddelanden
Två typer: Felmeddelande och förfrågningar

#### Felmeddelanden
- Skickas av routrar eller värddatorer när ett problemn uppstår med ett IP-datagram. Ett felmeddelande skickas alltid till den ursprungliga sändaren av ett IP-datagram. Skickas till den ursprungliga sändaren.
- ICMP har dock inga funktioner för felhantering utan rapporterar endast när ett fel uppstår. Protokollen som använder IP hanterar felet.
- Felmeddelanden innehåller en datadel med den ursprungliga IP-headern plus 8 byte av data i IP-datagrammet.
- Fyra typer av felmeddelanden:
	- Destination Unreachable
	- Source Quench
	- Time exceeded
	- Parameter problem

#### Förfrågningar
- Kan användas för att upptäcka nätproblem. Meddelandet skickas i ett IP-datagram från en användare, värddator eller router till en mottagande router eller värddator. Mottagaren svarar med ett reply.
- Det finns fyra typer av förfrågningar:
	- Echo request
	- Tiimestamp request
	- Adress-mask request
	- Router solicitation

## ICMPv6
Samma syfte som ICMP för IPv4.
- Har även inkluderat funktionerna hos två protokoll som var stjälvständiga i IPv4, [[adress resolution protocol|ARP]] och IGMP.

